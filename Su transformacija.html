
<html><head>
    <h2>Kompiuterinė grafika labaratorinis darbas nr. 1  </h2>
    <h2>Linas Bisikirskas Informatika 3 kursas 3 grupė </h2>
   
</head><body onload="draw();">
    <div>Pasirinkite transformacijos žingsnį</div>
    <input type="range" min="0" max="9" value="0" step="1" onchange="showValue(this.value)">
    <div id="range">0</div>


<script type="text/javascript">
function showValue(newValue)
{
   document.getElementById("range").innerHTML=newValue;
   draw(newValue);
}
</script>
 <script type="application/javascript">	
   function draw(step) {
     var canvas = document.getElementById('canvas');
     if (canvas.getContext) {
         
       var ctx = canvas.getContext("2d");

       canvas.width = canvas.width;
       ctx.fillStyle= ("Blue");

      var colorID = step - 1;
     drawF(step);
     }
       function drawF(step) {
         if (step > 0) {
         step = step-1; 
         ctx.save();
         ctx.save();
         ctx.save();
         
         if(step == colorID){
           ctx.fillStyle = "#550000";
         }
         ctx.transform(-0.5, 0, 0, 0.5, 250, 0); 
         drawF(step); 
         ctx.restore();

         if (step == colorID ) {
           ctx.fillStyle = "#005500";
         };
         ctx.transform(0.5, 0, 0, 0.5, 250, 0); 
         drawF(step); 
         ctx.restore();

         if(step == colorID){
           ctx.fillStyle = "#0000AA";
         }
         ctx.transform(0, -0.5,  -0.5,0, 500, 500);  
         drawF(step);
         ctx.restore();

         if(step == colorID){
           ctx.fillStyle = "#00AA00";
         }
         ctx.transform(-0.25, 0, 0, -0.25, 125, 375);  
         drawF(step);
         }
         else drawT();    
       }      

       function drawT() {


        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(500,0);
        ctx.lineTo(500,500);
        ctx.lineTo(250,500);
        ctx.lineTo(250,250);
        ctx.lineTo(125,250);
        ctx.lineTo(125,375);
        ctx.lineTo(0,375);
        ctx.fill();

       }       
   }




        
 </script>
 <canvas id="canvas" style="border:2px solid #000000;" width="500" height="500"></canvas>

 <h2>Transformacijos</h2>
<div>
  <button type="button" class="btn" onclick="animation1()">Pirma</button>
  <button type="button" class="btn" onclick="animation2()">Antra</button>
  <button type="button" class="btn" onclick="animation3()">Trečia</button>
  <button type="button" class="btn" onclick="animation4()">Ketvirta</button>
</div>
<canvas id="canvas2" style="border:2px solid #000000;" width="500" height="500"></canvas>

<script>
  var canvas = document.getElementById("canvas2");
  var ctx = canvas.getContext("2d");

  function drawT() {
    ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(500,0);
        ctx.lineTo(500,500);
        ctx.lineTo(250,500);
        ctx.lineTo(250,250);
        ctx.lineTo(125,250);
        ctx.lineTo(125,375);
        ctx.lineTo(0,375);
        ctx.fill();
  }

 
  function animation1() {
      ctx.fillStyle = "#550000";
      drawAnimation(NR = 1,
      xLength = 5,
      yLength = 0,
      scaleSize = 0.01);
  }
  function animation2() {
      ctx.fillStyle = "#005500";
      drawAnimation(NR = 2,
      xLength = 5,
      yLength = 0,
      scaleSize = 0.01);
  }
  function animation3() {
      ctx.fillStyle = "#0000AA";
      drawAnimation(NR = 3,
      xLength = 5,
      yLength = 10,
      scaleSize = 0.01);

  }
  function animation4() {
      ctx.fillStyle = "#00AA00";
      drawAnimation(NR = 4,
      xLength = 0,
      yLength = 5,
      scaleSize = 0.015);
  }

  function drawAnimation(NR, xLength, yLength, scaleSize) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      var rotation = 0.02;
      var step = 0;
      var mirrorStepSize = 0.04;
      var inter = setInterval(drawTransformation, 50);

      function drawTransformation() {
          ctx.save();
          ctx.clearRect(0, 0, 500, 500);


          switch (NR) {
              case 1:
                  ctx.translate(step * xLength, 0);
                  ctx.scale(1 - step * scaleSize, 1 - step * scaleSize);
                  ctx.scale(1 - step * mirrorStepSize, 1);
                  break;
              case 2:
                  ctx.translate(step * xLength, 0);
                  ctx.scale(1 - step * scaleSize, 1 - step * scaleSize);
                  break;
              case 3:
                  ctx.translate(step * xLength*2, step * yLength);
                  ctx.rotate(-step * rotation * Math.PI /2);
                  ctx.scale(1 - step * scaleSize, 1 - step * scaleSize);
                  ctx.scale(1 , 1 - step * mirrorStepSize);

                  break;
              case 4:
                  ctx.translate((step * yLength)/2, step * yLength*1.5);
                  ctx.scale(1 - step * scaleSize, 1 - step * scaleSize);
                  ctx.rotate(-step * rotation * Math.PI );
                  break;
          }

          drawT();
          ctx.restore();

          if (step == 50) {
              clearInterval(inter);
              inter = 0;
          }
          else {
            step++;
          }
      }
  }

</script>






</body></html>